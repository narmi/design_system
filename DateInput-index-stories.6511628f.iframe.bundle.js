"use strict";(self.webpackChunk_narmi_design_system=self.webpackChunk_narmi_design_system||[]).push([[8902],{"./src/Popover/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classcat__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/classcat/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),react_laag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-laag/dist/react-laag.esm.js"),react_focus_lock__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-focus-lock/dist/es2015/index.js"),src_util_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/util/dom.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const noop=()=>{},Popover=_ref=>{let{side="bottom",alignment="center",content,children,renderTrigger=()=>react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null),wrapperDisplay="inline-flex",offset=2,disableAutoPlacement=!1,matchTriggerWidth=!1,testId,closeOnContentClick=!1,isOpen,autoFocus=!1,hasShadow=!0,onUserDismiss=noop,onUserEnable=noop}=_ref;const isControlled=!0===isOpen||!1===isOpen,hasChildren=react__WEBPACK_IMPORTED_MODULE_1__.Children.count(children)>0,[open,setOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),shouldRenderPopover=isControlled?isOpen:open,popoverContent=closeOnContentClick?react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(content,{onClick:()=>{content.onClick&&content.onClick(),setOpen(!1),onUserDismiss()}}):content,closePopover=()=>{setOpen(!1),onUserDismiss()},handleKeyUp=_ref3=>{let{key}=_ref3;"Escape"===key&&shouldRenderPopover&&(setOpen(!1),onUserDismiss())},{renderLayer,triggerProps,triggerBounds,layerProps}=(0,react_laag__WEBPACK_IMPORTED_MODULE_2__.Z4)({isOpen:shouldRenderPopover,onOutsideClick:closePopover,onDisappear:closePopover,auto:!disableAutoPlacement,placement:"".concat(side,"-").concat(alignment),preferX:"left",preferY:"bottom",container:src_util_dom__WEBPACK_IMPORTED_MODULE_3__.u,triggerOffset:offset});(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>(window.addEventListener("keydown",handleKeyUp),()=>{window.removeEventListener("keydown",handleKeyUp)})),[handleKeyUp]);let layerStyle=layerProps.style;return triggerBounds&&matchTriggerWidth&&(layerStyle=function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({width:triggerBounds.width},layerProps.style)),react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",_extends({},triggerProps,{style:{display:wrapperDisplay},onClick:event=>{event.stopPropagation(),isControlled?isOpen?onUserDismiss():onUserEnable():setOpen((open=>!open))},onKeyDown:_ref2=>{let{key}=_ref2;"Enter"===key&&(setOpen(!0),onUserEnable())},role:"button",tabIndex:"0","data-testid":"nds-popover-trigger","aria-haspopup":"true","aria-expanded":shouldRenderPopover.toString()}),hasChildren?children:renderTrigger(isOpen)),renderLayer(react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,shouldRenderPopover&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",_extends({},layerProps,{className:(0,classcat__WEBPACK_IMPORTED_MODULE_4__.A)(["nds-typography nds-popover","rounded--all bgColor--white",{"nds-popover--elevated":hasShadow}]),style:layerStyle,"data-testid":testId}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{tabIndex:-1},react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_focus_lock__WEBPACK_IMPORTED_MODULE_5__.Ay,{autoFocus},popoverContent))))))};Popover.propTypes={content:prop_types__WEBPACK_IMPORTED_MODULE_6___default().node.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_6___default().node,renderTrigger:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,side:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOf(["top","right","bottom","left"]),alignment:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOf(["start","center","end"]),wrapperDisplay:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOf(["inline-flex","inline-block","inline","block","flex"]),offset:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,matchTriggerWidth:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,disableAutoPlacement:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,testId:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,closeOnContentClick:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,isOpen:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,onUserDismiss:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,onUserEnable:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,autoFocus:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,hasShadow:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool};const __WEBPACK_DEFAULT_EXPORT__=Popover;Popover.__docgenInfo={description:'Generic Popover component. Renders a floating element that can contain any content,\npositioned relatively to its triggering element.\n\nThis Popover only appears on "click" (focus + activate or mouse click) interactions.\nThe Escape key and clicking outside of the Popover will dismiss it.\nFor a hover-based informative popover, use `Tooltip`.\n\nThe popover will position itself based on the `side` prop, but will\nautomatically reposition to avoid collisions with viewport edges.',methods:[],displayName:"Popover",props:{side:{defaultValue:{value:'"bottom"',computed:!1},description:"Sets preferred side of the trigger the tooltip should appear",type:{name:"enum",value:[{value:'"top"',computed:!1},{value:'"right"',computed:!1},{value:'"bottom"',computed:!1},{value:'"left"',computed:!1}]},required:!1},alignment:{defaultValue:{value:'"center"',computed:!1},description:"Sets preferred alignment of the tooltip relative to the trigger",type:{name:"enum",value:[{value:'"start"',computed:!1},{value:'"center"',computed:!1},{value:'"end"',computed:!1}]},required:!1},renderTrigger:{defaultValue:{value:"() => <></>",computed:!1},description:"Render function for a custom trigger aware of the open state of the Popover.\nCalled with `(isOpen) => {}`, the state of the Popover.",type:{name:"func"},required:!1},wrapperDisplay:{defaultValue:{value:'"inline-flex"',computed:!1},description:"CSS `display` value for the element that wraps the Tooltip children",type:{name:"enum",value:[{value:'"inline-flex"',computed:!1},{value:'"inline-block"',computed:!1},{value:'"inline"',computed:!1},{value:'"block"',computed:!1},{value:'"flex"',computed:!1}]},required:!1},offset:{defaultValue:{value:"2",computed:!1},description:"Distance of Popover from trigger element in number of pixels",type:{name:"number"},required:!1},disableAutoPlacement:{defaultValue:{value:"false",computed:!1},description:"By default, the Popover will automatically reposition itself to avoid viewport edges.\nSetting this prop to `true` will disable this behavior so that the Popover will\nalways be placed on the given `side` prop.",type:{name:"bool"},required:!1},matchTriggerWidth:{defaultValue:{value:"false",computed:!1},description:"When `true`, the Popover container will match the width of its triggering element",type:{name:"bool"},required:!1},closeOnContentClick:{defaultValue:{value:"false",computed:!1},description:"Close the popover if the User clicks on the content",type:{name:"bool"},required:!1},autoFocus:{defaultValue:{value:"false",computed:!1},description:"When set to `true`, the first focusable element will automatically receive focus\nwhenever the popover opens",type:{name:"bool"},required:!1},hasShadow:{defaultValue:{value:"true",computed:!1},description:"When set to `false` the popover positioned element will not have a box shadow.\nUseful for adding a custom box shadow.",type:{name:"bool"},required:!1},onUserDismiss:{defaultValue:{value:"() => {}",computed:!1},description:"Callback to handle user taking an action to __dismiss__ the popover\n(click outside, Escape key)",type:{name:"func"},required:!1},onUserEnable:{defaultValue:{value:"() => {}",computed:!1},description:"Callback to handle user taking an action to __enable__ the popover\n(click or key interaction on the trigger button rendered in Popover)",type:{name:"func"},required:!1},content:{description:"Content of popover",type:{name:"node"},required:!0},children:{description:"⚠️ DEPRECATED - use `renderTrigger` instead.\nThe root node of JSX passed into Tooltip as children will act as the tooltip trigger",type:{name:"node"},required:!1},testId:{description:"Optional value for `data-testid` attribute",type:{name:"string"},required:!1},isOpen:{description:"If isOpen is set the component becomes a controlled component. Use the `onUserDismiss` callback to update.",type:{name:"bool"},required:!1}}}},"./src/util/dom.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function createUseLayerContainer(){if("undefined"!=typeof document){const container=document.getElementById("outlet");if(container)return container;{const outlet=document.createElement("div");return outlet.setAttribute("id","outlet"),outlet.setAttribute("class","outlet"),document.body.appendChild(outlet),outlet}}}__webpack_require__.d(__webpack_exports__,{u:()=>createUseLayerContainer})},"./src/DateInput/index.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AltInput:()=>AltInput,DisablePortal:()=>DisablePortal,Overview:()=>Overview,WithDefaultDate:()=>WithDefaultDate,WithDisabledDates:()=>WithDisabledDates,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),TextInput=__webpack_require__("./src/TextInput/index.js"),l10n_default=__webpack_require__("./node_modules/flatpickr/dist/l10n/default.js"),esm=__webpack_require__("./node_modules/flatpickr/dist/esm/index.js");const _excluded=["disableDates","minDate","dateFormat","altInput","altFormat","defaultDate","onChange","useIsoOnChange","disableMobile","testId","disablePortal"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const noop=()=>{},DateInput=_ref=>{let{disableDates,minDate,dateFormat,altInput,altFormat,defaultDate,onChange:onChangeProp=noop,useIsoOnChange=!0,disableMobile=!1,testId,disablePortal}=_ref,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);const input=(0,react.useRef)();l10n_default.english.weekdays.shorthand=l10n_default.english.weekdays.shorthand.map((abbrev=>abbrev.substr(0,2)));const flatpickrOptions={monthSelectorType:"static",locale:l10n_default.english,allowInput:!0,dateFormat,minDate,altInput,altFormat,disableMobile,disable:disableDates,defaultDate,onChange:flatpickrVal=>{let locale=useIsoOnChange?"en-CA":"en-US";const selectedDate=new Date(flatpickrVal);if(isNaN(selectedDate))return;const formattedDate=new Intl.DateTimeFormat(locale).format(selectedDate);onChangeProp(formattedDate)},onReady:(dates,dateStr,instance)=>{altInput&&instance.altInput&&instance.altInput.setAttribute("aria-label",props.label||"Select date")}};return(0,react.useEffect)((()=>{disablePortal&&(flatpickrOptions.static=!0),(0,esm.A)(input.current,flatpickrOptions)}),[flatpickrOptions,input,disablePortal]),react.createElement(react.Fragment,null,react.createElement(TextInput.A,_extends({},props,{label:props.label,ref:input,type:"date",required:!0,"data-testid":testId},props)))};DateInput.propTypes={label:prop_types_default().string.isRequired,onChange:prop_types_default().func,disableDates:prop_types_default().array,minDate:prop_types_default().bool,altFormat:prop_types_default().string,altInput:prop_types_default().bool,defaultDate:prop_types_default().string,dateFormat:prop_types_default().string,useIsoOnChange:prop_types_default().bool,disableMobile:prop_types_default().bool,testId:prop_types_default().string,disablePortal:prop_types_default().bool},DateInput.defaultProps={onChange:()=>{},disableDates:[],dateFormat:"Y-m-d"};const src_DateInput=DateInput;DateInput.__docgenInfo={description:"Single day picker.\nComposes NDS input with a [flatpickr](http://flatpickrjs.org) calendar UI.",methods:[],displayName:"DateInput",props:{onChange:{defaultValue:{value:"() => {}",computed:!1},description:"Fired with 'YYYY-MM-DD' selected date string when selected date changes",type:{name:"func"},required:!1},useIsoOnChange:{defaultValue:{value:"true",computed:!1},description:"If the `onChange` callback should pass the date string in ISO8601 format",type:{name:"bool"},required:!1},disableMobile:{defaultValue:{value:"false",computed:!1},description:"Disable mobile text inputs on mobile web",type:{name:"bool"},required:!1},disableDates:{defaultValue:{value:"[]",computed:!1},description:"Disables dates. See [flatpickr docs](https://flatpickr.js.org/examples/#disabling-dates) for usage instructions",type:{name:"array"},required:!1},dateFormat:{defaultValue:{value:'"Y-m-d"',computed:!1},description:"Changes date format used in input. See [flatpickr docs](https://flatpickr.js.org/formatting/) for formatting options",type:{name:"string"},required:!1},label:{description:"Placeholder of the input",type:{name:"string"},required:!0},minDate:{description:"Sets the minimum selectable date (inclusive)",type:{name:"bool"},required:!1},altFormat:{description:"Alternate date format to show in input when a date is selected (e.g. 'm/d/Y')",type:{name:"string"},required:!1},altInput:{description:"When true, the input value will follow an alternate format defined by the `altFormat` prop",type:{name:"bool"},required:!1},defaultDate:{description:"Sets a default selected date.\nDateInput uses the format 'YYYY-MM-DD' by default.",type:{name:"string"},required:!1},testId:{description:"Optional value for `data-testid` attribute",type:{name:"string"},required:!1},disablePortal:{description:"When true, appends the calendar popup to the parent of the input instead of to document body",type:{name:"bool"},required:!1}}};var Popover=__webpack_require__("./src/Popover/index.js");const toFPString=(date,dayOffset=0)=>`${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()+dayOffset}`,Template=args=>react.createElement(src_DateInput,args),Overview=Template.bind({});Overview.args={label:"Date of Birth"};const WithDisabledDates=Template.bind({});WithDisabledDates.args={label:"Select any date (except for today or tomorrow)",disableDates:[toFPString(new Date),toFPString(new Date,1)]};const WithDefaultDate=()=>react.createElement(src_DateInput,{label:"Select a date",defaultDate:"2021-10-22"}),AltInput=Template.bind({});AltInput.args={altInput:!0,altFormat:"m/d/Y",label:"Date in input will follow m/d/Y format"},AltInput.parameters={docs:{description:{story:"The `altInput` prop will make the input show a date in an alternate format defined by `altFormat`. See [flatpickr docs](https://flatpickr.js.org/formatting/) for formatting options."}}};const DisablePortal=()=>{const content=react.createElement("div",{className:"padding--all"},react.createElement("div",{className:"padding--bottom"},react.createElement(src_DateInput,{label:"Start Date",placeholder:"YYYY-MM-DD",disablePortal:!0})),react.createElement("div",{className:"padding--bottom"},react.createElement(src_DateInput,{label:"End Date",placeholder:"YYYY-MM-DD",disablePortal:!0})));return react.createElement("div",{style:{height:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},react.createElement(Popover.A,{content},react.createElement("button",null,"Click to show popover")))};DisablePortal.parameters={docs:{description:{story:"By default, `DateInput` appends to the document body. Most of the time, this is fine, but when using inside of another modal that uses 'click outside' behavior, it can be helpful to render the `DateInput` calendar in-place by passing `disablePortal={true}`"}}};const index_stories={title:"Components/DateInput",component:src_DateInput},__namedExportsOrder=["Overview","WithDisabledDates","WithDefaultDate","AltInput","DisablePortal"];Overview.parameters={...Overview.parameters,docs:{...Overview.parameters?.docs,source:{originalSource:"args => <DateInput {...args} />",...Overview.parameters?.docs?.source}}},WithDisabledDates.parameters={...WithDisabledDates.parameters,docs:{...WithDisabledDates.parameters?.docs,source:{originalSource:"args => <DateInput {...args} />",...WithDisabledDates.parameters?.docs?.source}}},WithDefaultDate.parameters={...WithDefaultDate.parameters,docs:{...WithDefaultDate.parameters?.docs,source:{originalSource:'() => {\n  return <DateInput label={"Select a date"} defaultDate="2021-10-22" />;\n}',...WithDefaultDate.parameters?.docs?.source}}},AltInput.parameters={...AltInput.parameters,docs:{...AltInput.parameters?.docs,source:{originalSource:"args => <DateInput {...args} />",...AltInput.parameters?.docs?.source}}},DisablePortal.parameters={...DisablePortal.parameters,docs:{...DisablePortal.parameters?.docs,source:{originalSource:'() => {\n  const content = <div className="padding--all">\n      <div className="padding--bottom">\n        <DateInput label="Start Date" placeholder="YYYY-MM-DD" disablePortal={true} />\n      </div>\n      <div className="padding--bottom">\n        <DateInput label="End Date" placeholder="YYYY-MM-DD" disablePortal={true} />\n      </div>\n    </div>;\n  return <div style={{\n    height: "200px",\n    display: "flex",\n    flexDirection: "column",\n    justifyContent: "center",\n    alignItems: "center"\n  }}>\n      <Popover content={content}>\n        <button>Click to show popover</button>\n      </Popover>\n    </div>;\n}',...DisablePortal.parameters?.docs?.source}}}}}]);