import{e as t,r as b}from"./iframe-BBFkYpee.js";import{c as A}from"./index-RvS1aOr8.js";import{P as e}from"./index-CA1B0jeb.js";import{u as K,c as N}from"./dom-CIp6_FYh.js";import{F as j}from"./Combination-wzRxDCHH.js";function u(){return u=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)({}).hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},u.apply(null,arguments)}const w=()=>{},k=({side:s="bottom",alignment:n="center",content:o,children:a,renderTrigger:P=()=>t.createElement(t.Fragment,null),wrapperDisplay:C="inline-flex",offset:E=2,disableAutoPlacement:q=!1,matchTriggerWidth:x=!1,testId:T,closeOnContentClick:O=!1,isOpen:l,autoFocus:V=!1,hasShadow:S=!0,onUserDismiss:p=w,onUserEnable:m=w})=>{const h=l===!0||l===!1,_=t.Children.count(a)>0,[F,r]=b.useState(!1),d=h?l:F,D=O?t.cloneElement(o,{onClick:()=>{o.onClick&&o.onClick(),r(!1),p()}}):o,v=()=>{r(!1),p()},I=i=>{i.stopPropagation(),h?l?p():m():r(W=>!W)},L=({key:i})=>{i==="Enter"&&(r(!0),m())},c=({key:i})=>{i==="Escape"&&d&&(r(!1),p())},{renderLayer:U,triggerProps:R,triggerBounds:g,layerProps:f}=K({isOpen:d,onOutsideClick:v,onDisappear:v,auto:!q,placement:`${s}-${n}`,preferX:"left",preferY:"bottom",container:N,triggerOffset:E});b.useEffect(()=>(window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}),[c]);let y=f.style;return g&&x&&(y={width:g.width,...f.style}),t.createElement(t.Fragment,null,t.createElement("div",u({},R,{style:{display:C},onClick:I,onKeyDown:L,role:"button",tabIndex:"0",className:"nds-popover-trigger","data-testid":"nds-popover-trigger","aria-haspopup":"true","aria-expanded":d.toString()}),_?a:P(l)),U(t.createElement(t.Fragment,null,d&&t.createElement("div",u({},f,{className:A(["nds-typography nds-popover","rounded--all bgColor--white",{"nds-popover--elevated":S}]),style:y,"data-testid":T}),t.createElement("div",{tabIndex:-1},t.createElement(j,{autoFocus:V},D))))))};k.propTypes={content:e.node.isRequired,children:e.node,renderTrigger:e.func,side:e.oneOf(["top","right","bottom","left"]),alignment:e.oneOf(["start","center","end"]),wrapperDisplay:e.oneOf(["inline-flex","inline-block","inline","block","flex"]),offset:e.number,matchTriggerWidth:e.bool,disableAutoPlacement:e.bool,testId:e.string,closeOnContentClick:e.bool,isOpen:e.bool,onUserDismiss:e.func,onUserEnable:e.func,autoFocus:e.bool,hasShadow:e.bool};k.__docgenInfo={description:`Generic Popover component. Renders a floating element that can contain any content,
positioned relatively to its triggering element.

This Popover only appears on "click" (focus + activate or mouse click) interactions.
The Escape key and clicking outside of the Popover will dismiss it.
For a hover-based informative popover, use \`Tooltip\`.

The popover will position itself based on the \`side\` prop, but will
automatically reposition to avoid collisions with viewport edges.`,methods:[],displayName:"Popover",props:{side:{defaultValue:{value:'"bottom"',computed:!1},description:"Sets preferred side of the trigger the tooltip should appear",type:{name:"enum",value:[{value:'"top"',computed:!1},{value:'"right"',computed:!1},{value:'"bottom"',computed:!1},{value:'"left"',computed:!1}]},required:!1},alignment:{defaultValue:{value:'"center"',computed:!1},description:"Sets preferred alignment of the tooltip relative to the trigger",type:{name:"enum",value:[{value:'"start"',computed:!1},{value:'"center"',computed:!1},{value:'"end"',computed:!1}]},required:!1},renderTrigger:{defaultValue:{value:"() => <></>",computed:!1},description:"Render function for a custom trigger aware of the open state of the Popover.\nCalled with `(isOpen) => {}`, the state of the Popover.",type:{name:"func"},required:!1},wrapperDisplay:{defaultValue:{value:'"inline-flex"',computed:!1},description:"CSS `display` value for the element that wraps the Tooltip children",type:{name:"enum",value:[{value:'"inline-flex"',computed:!1},{value:'"inline-block"',computed:!1},{value:'"inline"',computed:!1},{value:'"block"',computed:!1},{value:'"flex"',computed:!1}]},required:!1},offset:{defaultValue:{value:"2",computed:!1},description:"Distance of Popover from trigger element in number of pixels",type:{name:"number"},required:!1},disableAutoPlacement:{defaultValue:{value:"false",computed:!1},description:"By default, the Popover will automatically reposition itself to avoid viewport edges.\nSetting this prop to `true` will disable this behavior so that the Popover will\nalways be placed on the given `side` prop.",type:{name:"bool"},required:!1},matchTriggerWidth:{defaultValue:{value:"false",computed:!1},description:"When `true`, the Popover container will match the width of its triggering element",type:{name:"bool"},required:!1},closeOnContentClick:{defaultValue:{value:"false",computed:!1},description:"Close the popover if the User clicks on the content",type:{name:"bool"},required:!1},autoFocus:{defaultValue:{value:"false",computed:!1},description:"When set to `true`, the first focusable element will automatically receive focus\nwhenever the popover opens",type:{name:"bool"},required:!1},hasShadow:{defaultValue:{value:"true",computed:!1},description:"When set to `false` the popover positioned element will not have a box shadow.\nUseful for adding a custom box shadow.",type:{name:"bool"},required:!1},onUserDismiss:{defaultValue:{value:"() => {}",computed:!1},description:`Callback to handle user taking an action to __dismiss__ the popover
(click outside, Escape key)`,type:{name:"func"},required:!1},onUserEnable:{defaultValue:{value:"() => {}",computed:!1},description:`Callback to handle user taking an action to __enable__ the popover
(click or key interaction on the trigger button rendered in Popover)`,type:{name:"func"},required:!1},content:{description:"Content of popover",type:{name:"node"},required:!0},children:{description:"⚠️ DEPRECATED - use `renderTrigger` instead.\nThe root node of JSX passed into Tooltip as children will act as the tooltip trigger",type:{name:"node"},required:!1},testId:{description:"Optional value for `data-testid` attribute",type:{name:"string"},required:!1},isOpen:{description:"If isOpen is set the component becomes a controlled component. Use the `onUserDismiss` callback to update.",type:{name:"bool"},required:!1}}};export{k as P};
