import{e,r as I}from"./iframe-DxB44bOA.js";import{P as t}from"./index-DP_XItfu.js";import{c as E}from"./index-RvS1aOr8.js";import{i as re}from"./selection-CAkQuomx.js";import{b as ie}from"./downshift.esm-DwKFxA0c.js";import{E as se}from"./index-DtYQvn3P.js";import{T as G}from"./index-BQYKjw5i.js";import{R as q}from"./index-BDQtPaWv.js";import{g as ce}from"./index-DEId0rf8.js";import{u as ue}from"./index-BoMkS0d5.js";import{F as de}from"./index-Bl_-9bFL.js";import{u as me}from"./index-D7_Vvcow.js";import{u as pe}from"./index-BgWGa3Xz.js";import{F as fe}from"./Combination-CI5GOWU3.js";const L=({children:n,value:o})=>e.createElement(e.Fragment,null,n||o);L.displayName="Combobox.Item";L.propTypes={value:t.string.isRequired,searchValue:t.string,children:t.oneOfType([t.node,t.arrayOf(t.node)])};L.__docgenInfo={description:"",methods:[],displayName:"Combobox.Item",props:{value:{description:`String representation of the option.

This value is also used as a typeahead; if a user types "n" while
the Select is open, highlight will move to the first item with a
value starting with \`n\`.`,type:{name:"string"},required:!0},searchValue:{description:"Custom typeahead string. By default, typeahead uses `value`.\nUse this prop to pass in a custom string you'd like the user to search\nagainst when using typeahead.",type:{name:"string"},required:!1},children:{description:"",type:{name:"union",value:[{name:"node"},{name:"arrayOf",value:{name:"node"}}]},required:!1}}};const M=({text:n,kind:o="bold"})=>e.createElement("h5",{className:`nds-combobox-list-heading--${o}`},n);M.displayName="Combobox.Heading";M.propTypes={text:t.string.isRequired,kind:t.oneOf(["bold","hint"])};M.__docgenInfo={description:"",methods:[],displayName:"Combobox.Heading",props:{kind:{defaultValue:{value:'"bold"',computed:!1},description:"Display variant of heading\n`bold` - Dark, large headings\n`hint` - Light, small headings",type:{name:"enum",value:[{value:'"bold"',computed:!1},{value:'"hint"',computed:!1}]},required:!1},text:{description:"Text of the heading",type:{name:"string"},required:!0}}};const $=({children:n})=>e.createElement(e.Fragment,null,n);$.displayName="Combobox.Category";$.propTypes={label:t.string.isRequired,children:t.oneOfType([t.node,t.arrayOf(t.node)])};$.__docgenInfo={description:"",methods:[],displayName:"Combobox.Category",props:{label:{description:"",type:{name:"string"},required:!0},children:{description:"",type:{name:"union",value:[{name:"node"},{name:"arrayOf",value:{name:"node"}}]},required:!1}}};const he=()=>{},P=({onSelect:n=he})=>e.createElement(e.Fragment,null);P.displayName="Combobox.Action";P.propTypes={onSelect:t.func.isRequired,label:t.string.isRequired};P.__docgenInfo={description:"",methods:[],displayName:"Combobox.Action",props:{onSelect:{defaultValue:{value:"() => {}",computed:!1},description:"Side effect to run on selection",type:{name:"func"},required:!1},label:{description:"Label for action",type:{name:"string"},required:!0}}};function V(){return V=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var r in l)({}).hasOwnProperty.call(l,r)&&(n[r]=l[r])}return n},V.apply(null,arguments)}const Q=()=>{},ge=re.icons.map(n=>n.properties.name),T=n=>{let o=!1;return n&&n.props&&(o="label"in n.props),o},U=n=>{let o=!1;return n&&(o=T(n)||"value"in n.props),o},be=(n,o,l,r,p)=>{let s=!1;if(o>-1&&l.length>0){const h=l[o].props.value;s=r.map(v=>v.props.value).includes(h)}return typeof n=="string"&&n.length>0&&(s=!0),p&&(s=r.map(h=>h.props.value).includes(p.props.value)),s},ve=(n,o)=>o.map(r=>r.props.value).reduce((r,p)=>{const s=n.find(h=>p===h.props.value);return s&&r.push(s),r},[]),ye=(n,o)=>n.filter(l=>(l.props.searchValue||l.props.value).toLowerCase().startsWith(o)),Y=n=>e.createElement("span",{className:`fontSize--l fontColor--primary narmi-icon-${n?"chevron-up":"chevron-down"}`}),O=({label:n,onChange:o=Q,onInputChange:l=Q,inputValue:r,filterItemsByInput:p=ye,children:s,disableFiltering:h=!1,clearSelectionOnAction:u=!1,errorText:v,icon:A,testId:F,renderEndContent:_=Y,maxMenuHeight:N="40vh"})=>{const b=I.useMemo(()=>e.Children.toArray(s),[s]),k=b.some(({type:a})=>a.displayName===$.displayName);let x=[],d=b.length<1?[]:b.filter(({props:a})=>"value"in a||"text"in a);k?(d=b.flatMap(({props:a})=>e.Children.toArray(a.children)),x=b.map(({props:a})=>({label:a.label,categoryChildren:e.Children.toArray(a.children)}))):d=b;const[i,y]=I.useState(d),S=a=>a?.props?.searchValue||a?.props?.value||"",{isOpen:C,selectedItem:w,getInputProps:H,getMenuProps:D,getItemProps:W,highlightedIndex:R,inputValue:c,openMenu:ee,closeMenu:X,reset:te}=ie({items:i,inputValue:r,itemToString:S,onInputValueChange:({inputValue:a})=>{if(a.length===0){y(d),te(),l("");return}if(!h){const m=d.filter(T),f=p(d.filter(g=>!T(g)&&U(g)),a.toLowerCase());y([...f,...m])}l(a)},onSelectedItemChange:({selectedItem:a})=>{o(a?a.props.value:""),X()},stateReducer:(a,m)=>{const{changes:f}=m,{selectedItem:g}=a,{selectedItem:z}=f;return T(z)?(z.props.onSelect(),{...f,selectedItem:u?null:g,inputValue:u?"":S(g),isOpen:!1}):f}}),{anchorProps:ne,layerProps:ae}=ue({isOpen:C});I.useEffect(()=>{(!c||c.length===0)&&d.length!==i.length&&y(d)},[d,c]);const j=!!w,K=(a,m)=>{const f=T(a);let g=e.createElement("li",{key:`${a}-${m}`,className:"alignChild--left--center"},a);return U(a)&&(g=e.createElement("li",V({key:`${a}-${m}`,className:E(["nds-combobox-item","alignChild--left--center padding--x--s",{"nds-combobox-action":f,"padding--y--xs":!k,"nds-combobox-item--highlighted":R===m,"rounded--top":m===0,"rounded--bottom":m===i.length-1}])},W({item:a,index:m})),f&&e.createElement(q,{as:"span",gapSize:"xxs"},e.createElement(q.Item,{as:"span",shrink:!0},e.createElement("span",{className:"narmi-icon-plus fontWeight--bold"})),e.createElement(q.Item,{as:"span"},e.createElement("span",{className:"fontWeight--semibold"},a.props.label))),!f&&e.createElement(q,{as:"span"},e.createElement(q.Item,{as:"span"},a),j&&w.props.value===a.props.value&&e.createElement(q.Item,{as:"span",shrink:!0},e.createElement("span",{className:"narmi-icon-check fontSize--l fontWeight--bold"}))))),g},oe=({label:a,categoryChildren:m})=>{const f={},g=ve(i,m),z=g.length>0;return be(c,R,i,m,w)&&(f.open=!0),z?e.createElement("details",V({key:a,className:"nds-combobox-category",tabIndex:-1},f),e.createElement("summary",{className:"fontWeight--bold alignChild--left--center padding--x--s padding--y-xs",onFocus:B=>{B.target.blur()}},e.createElement("span",{id:`combobox-category-${a}`},a),e.createElement("span",{className:"nds-category-icon narmi-icon-chevron-down"}),e.createElement("span",{className:"nds-category-icon narmi-icon-chevron-up"})),e.createElement("ul",{className:"list--reset","aria-labelledby":`combobox-category-${a}`},g.map(B=>K(B,ce(B,i))))):null},J=()=>{C||(ee(),j&&y(d.filter(U)))},le=()=>{l(w?S(w):""),R!==-1&&X()};return d.length<1?e.createElement(G,{error:v,label:n,startIcon:A,onChange:l,value:c}):e.createElement(e.Fragment,null,e.createElement("div",{className:E(["nds-combobox",{"nds-combobox--active":C}]),"data-testid":F},e.createElement("div",ne,e.createElement(G,V({error:v,renderError:!1,label:n,value:c,startIcon:A,endContent:_(C)},H({onBlur:le,onFocus:J,onClick:J}),{onClick:J}))),e.createElement(se,{error:v,className:"margin--top--xs"}),e.createElement("div",ae,e.createElement("ul",V({className:E(["nds-combobox-list","list--reset","bgColor--white",{"nds-combobox-list--error":!!v}])},D(),{style:{maxHeight:N}}),C&&(k?x.map(oe):i.map(K))))))};O.propTypes={children:t.oneOfType([t.node,t.arrayOf(t.node)]).isRequired,label:t.string.isRequired,onChange:t.func,inputValue:t.string,onInputChange:t.func,disableFiltering:t.bool,clearSelectionOnAction:t.bool,filterItemsByInput:t.func,errorText:t.string,icon:t.oneOf(ge),testId:t.string,renderEndContent:t.func,maxMenuHeight:t.string};O.Item=L;O.Heading=M;O.Category=$;O.Action=P;Y.__docgenInfo={description:`@param {Boolean} isOpen whether the combobox is open
@returns {React.ReactNode} chevron icon that toggles based on the open state of the combobox`,methods:[],displayName:"defaultRenderEndContent"};O.__docgenInfo={description:`Autocomplete input component following the accessible
[ARIA combobox pattern](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/combobox_role).

Autocomplete options are defined by passing the \`Combobox.Item\` subcomponent
as children. To add heading dividers, use the \`Combobox.Heading\` subcomponent.

By default options will be filtered down as the user types in the input. This
behavior can be disabled via the \`disableFiltering\` prop.`,methods:[{name:"Item",docblock:null,modifiers:["static"],params:[{name:"{ children, value }",optional:!1,type:null}],returns:null},{name:"Heading",docblock:null,modifiers:["static"],params:[{name:'{ text, kind = "bold" }',optional:!1,type:null}],returns:null},{name:"Category",docblock:null,modifiers:["static"],params:[{name:"{ children }",optional:!1,type:null}],returns:null},{name:"Action",docblock:null,modifiers:["static"],params:[{name:"{ onSelect = noop }",optional:!1,type:null}],returns:null}],displayName:"Combobox",props:{onChange:{defaultValue:{value:"() => {}",computed:!1},description:"Change callback.\nCalled when an item is selected, with the `value` of the selected item.\nCalled with empty string when the user clears the input.",type:{name:"func"},required:!1},onInputChange:{defaultValue:{value:"() => {}",computed:!1},description:"Input change callback. Called whenever the user updates the value of the input.",type:{name:"func"},required:!1},filterItemsByInput:{defaultValue:{value:`(items, inputValue) =>
items.filter((item) => {
  const query = item.props.searchValue || item.props.value;
  return query.toLowerCase().startsWith(inputValue);
})`,computed:!1},description:"Optionally pass a function to customize filtering behavior\n\nSignature: `(items, inputValue) => [...filteredItems]`",type:{name:"func"},required:!1},disableFiltering:{defaultValue:{value:"false",computed:!1},description:"Set to `true` to disable the default behavior of filtering the list\nas the user types.",type:{name:"bool"},required:!1},clearSelectionOnAction:{defaultValue:{value:"false",computed:!1},description:"When `true`, selecting an action will clear any existing selection.",type:{name:"bool"},required:!1},renderEndContent:{defaultValue:{value:`(isOpen) => (
  <span
    className={\`fontSize--l fontColor--primary narmi-icon-\${
      isOpen ? "chevron-up" : "chevron-down"
    }\`}
  />
)`,computed:!1},description:`Function to render content at the end of the input.
Defaults to a function that renders a chevron icon that toggles based on the open state of the combobox.

Signature: \`(isOpen) => React.ReactNode\``,type:{name:"func"},required:!1},maxMenuHeight:{defaultValue:{value:'"40vh"',computed:!1},description:"Optional override to set CSS value for max height of menu",type:{name:"string"},required:!1},children:{description:"",type:{name:"union",value:[{name:"node"},{name:"arrayOf",value:{name:"node"}}]},required:!0},label:{description:"Label for the input",type:{name:"string"},required:!0},inputValue:{description:"Sets value of the input in a controlled manner.\nWhen using the `inputValue` prop, you **must** update it via the\n`onInputChange` handler.",type:{name:"string"},required:!1},errorText:{description:`Error message.
When passed, this will cause the input to render in error state.`,type:{name:"string"},required:!1},icon:{description:"Name of icon to place at the start of the input",type:{name:"enum",computed:!0,value:"VALID_ICON_NAMES"},required:!1},testId:{description:"Optional value for `data-testid` attribute",type:{name:"string"},required:!1}}};const Ce=(n,o)=>{const[l,r]=I.useState(!1);return I.useEffect(()=>{let p;return n&&!l?r(!0):!n&&l&&(p=setTimeout(()=>r(!1),o)),()=>{clearTimeout(p)}},[o,n,l]),l},Ee=()=>{},Z=({isOpen:n=!1,onUserDismiss:o=Ee,onNext:l=null,onPrev:r=null,showClose:p=!0,showControls:s=!0,children:h,position:u="right",depth:v="70%",paddingSize:A="xxl",footer:F,testId:_})=>{const N=`content-panel-${Date.now()}`,b=I.useRef(null),k=I.useRef(null),x=Ce(n,300),{m:d}=me(),i=u==="bottom"||u==="top",y=!d&&!i,S=i?{height:v}:{width:v};y&&(S.width="100%"),pe(n);const C=({key:c})=>{c==="Escape"&&o()};I.useEffect(()=>{if(n)return window.addEventListener("keydown",C),()=>{window.removeEventListener("keydown",C)}},[C,n]);const w=({target:c})=>{(k.current&&c===k.current||b.current&&c===b.current)&&o()},H=y?null:e.createElement("div",{ref:k,onClick:w,style:S,className:`drawer padding--all--xxl drawer--${u} navigation  ${n&&x?`navigation--open--${u}`:""}`,"data-testid":_},e.createElement("div",{className:`navigation-container--${u}`},p&&e.createElement("button",{className:`button--reset navigation-button navigation-button--${u} alignChild--center--center`,onClick:o,"aria-label":"Close"},e.createElement("span",{className:"narmi-icon-x clickable fontSize--heading3"})),p&&s&&e.createElement("div",{className:i?"margin--right--xl":"margin--bottom--xl"}),s&&e.createElement(e.Fragment,null,e.createElement("button",{className:E([`button--reset navigation-button navigation-button--${u} alignChild--center--center`,{"navigation-button--disabled":i?l==null:r==null}]),onClick:i?l:r,"aria-controls":N,"aria-label":i?"Next":"Previous"},e.createElement("span",{className:`narmi-icon-chevron-${i?"right":"up"} fontSize--heading3`})),e.createElement("button",{className:E([`button--reset navigation-button navigation-button--${u} alignChild--center--center`,{"navigation-button--disabled":i?r==null:l==null}]),onClick:i?r:l,"aria-controls":N,"aria-label":i?"Previous":"Next"},e.createElement("span",{className:`narmi-icon-chevron-${i?"left":"down"} fontSize--heading3`}))))),D=e.createElement("div",{style:S,className:E(["drawer",`drawer--${u}`,{[`drawer--open--${u}`]:n&&x,"drawer--vertical--mobile":y}]),role:"dialog","data-testid":_},e.createElement("div",{className:E(["drawer-content",`padding--all--${A}`])},y&&e.createElement(e.Fragment,null,s&&e.createElement(e.Fragment,null,e.createElement("button",{className:"button--reset mobile-navigation-button mobile-navigation-button--prev",onClick:r,"aria-controls":N,"aria-label":"Previous"},e.createElement("span",{className:"narmi-icon-chevron-left fontSize--heading3"})),e.createElement("button",{className:"button--reset mobile-navigation-button mobile-navigation-button--next",onClick:l,"aria-controls":N,"aria-label":"Next"},e.createElement("span",{className:"narmi-icon-chevron-right fontSize--heading3"}))),e.createElement("button",{className:"button--reset mobile-navigation-button mobile-navigation-button--close",onClick:o},e.createElement("span",{className:"narmi-icon-x clickable fontSize--heading3"}))),typeof h=="function"?h({isVisible:x}):h),F&&e.createElement("div",{className:E(["drawer-footer","border--top",`padding--x--${A}`,"padding--y--s"])},F)),W=e.createElement("div",{className:"drawerContainer"},e.createElement(fe,null,e.createElement("div",{ref:b,className:E(["backdrop",{"backdrop--open":n&&x}]),onClick:w}),H,s?e.createElement("div",{"aria-live":"polite",role:"region",id:N},D):D));function R(){if(!document.getElementById("outlet")){const c=document.createElement("div");c.setAttribute("id","outlet"),c.setAttribute("class","outlet"),document.body.appendChild(c)}return de.createPortal(W,document.getElementById("outlet"))}return!x&&!n?null:e.createElement(e.Fragment,null,document&&R())};Z.propTypes={children:t.oneOfType([t.node,t.func]).isRequired,isOpen:t.bool,onUserDismiss:t.func,onNext:t.func,onPrev:t.func,depth:t.string,showClose:t.bool,showControls:t.bool,position:t.oneOf(["right","left","top","bottom"]),paddingSize:t.oneOf(["none","xs","s","m","l","xl","xxl"]),footer:t.node,testId:t.string};Z.__docgenInfo={description:"Renders an animated drawer dialog with an overlay that\nallows navigation between multiple contents\n\nThis component uses a `ReactDOM` portal to render it as a direct\nchild of `document.body`.",methods:[],displayName:"Drawer",props:{isOpen:{defaultValue:{value:"false",computed:!1},description:"Controls open/close state of the modal. Use the `onUserDismiss` callback to update.",type:{name:"bool"},required:!1},onUserDismiss:{defaultValue:{value:"() => {}",computed:!1},description:`Callback to handle user taking an action to dismiss the modal
(click outside, Escape key, click close button)`,type:{name:"func"},required:!1},onNext:{defaultValue:{value:"null",computed:!1},description:`Callback to handle user taking an action to go to the next element
(click on the next arrow, right/down arrow key)`,type:{name:"func"},required:!1},onPrev:{defaultValue:{value:"null",computed:!1},description:`Callback to handle user taking an action to go to the previous element
(click on the previous arrow, left/up arrow key)`,type:{name:"func"},required:!1},showClose:{defaultValue:{value:"true",computed:!1},description:"Determines whether the close button shows.",type:{name:"bool"},required:!1},showControls:{defaultValue:{value:"true",computed:!1},description:"Determines whether the next and prev buttons show.",type:{name:"bool"},required:!1},position:{defaultValue:{value:'"right"',computed:!1},description:"Sets the position from which the drawers open.\nValid values are `right`, `left`, `bottom`, `top`.",type:{name:"enum",value:[{value:'"right"',computed:!1},{value:'"left"',computed:!1},{value:'"top"',computed:!1},{value:'"bottom"',computed:!1}]},required:!1},depth:{defaultValue:{value:'"70%"',computed:!1},description:'Sets how far the drawer opens out (width or height).\nUse the full CSS value with the percentage (e.g. `"400px"` or `"70%"`)',type:{name:"string"},required:!1},paddingSize:{defaultValue:{value:'"xxl"',computed:!1},description:'Sets the padding amount, or disable padding by passing "none"',type:{name:"enum",value:[{value:'"none"',computed:!1},{value:'"xs"',computed:!1},{value:'"s"',computed:!1},{value:'"m"',computed:!1},{value:'"l"',computed:!1},{value:'"xl"',computed:!1},{value:'"xxl"',computed:!1}]},required:!1},children:{description:"Scrollable contents of the Drawer",type:{name:"union",value:[{name:"node"},{name:"func"}]},required:!0},footer:{description:"Contents of Drawer footer, typically reserved for action buttons",type:{name:"node"},required:!1},testId:{description:"Optional value for `data-testid` attribute",type:{name:"string"},required:!1}}};export{O as C,Z as D,ge as V,M as a,L as b};
